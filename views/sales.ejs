<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Blank Page - business 360°</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/Billing-Table-with-Add-Row--Fixed-Header-Feature.css">
    <link rel="stylesheet" href="assets/css/Contact-Form-by-Moorcam.css">
    <link rel="stylesheet" href="assets/css/Features-Cards-icons.css">
    <link rel="stylesheet" href="assets/css/Pretty-Table-tables.css">
    <link rel="stylesheet" href="assets/css/Pretty-Table.css">
    <link rel="stylesheet" href="assets/css/Profile-Edit-Form-styles.css">
    <link rel="stylesheet" href="assets/css/Profile-Edit-Form.css">
</head>

<body id="page-top">
    <div id="wrapper">
        <nav class="navbar align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 navbar-dark">
            <div class="container-fluid d-flex flex-column p-0"><a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="#">
                    <div class="sidebar-brand-icon rotate-n-15"><i class="fas fa-laugh-wink"></i></div>
                    <div class="sidebar-brand-text mx-3"><span>business 360°</span></div>
                </a>
                <hr class="sidebar-divider my-0">
                <ul class="navbar-nav text-light" id="accordionSidebar">
                    <li class="nav-item"><a class="nav-link" href="/"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/profile"><i class="fas fa-user"></i><span>Profile</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/employee"><i class="fas fa-table"></i><span>Employee</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/inventory"><i class="fas fa-boxes fa-fw me-2"></i><span>Inventory</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/billing"> <i class="fas fa-file-invoice-dollar fa-fw me-2"></i><span>Billing</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/sales"> <i class="fas fa-chart-bar fa-fw me-2"></i><span>Sales dashboard</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/finance"><i class="fas fa-money-bill-wave fa-fw me-2"></i><span>fiance dashboard</span></a></li>
                </ul>
                <div class="text-center d-none d-md-inline"><button class="btn rounded-circle border-0" id="sidebarToggle" type="button"></button></div>
            </div>
        </nav>
       <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                    <div class="container-fluid">
                        <!-- Sidebar Toggle -->
                        <button class="btn btn-link d-md-none rounded-circle me-3" id="sidebarToggleTop" type="button">
                            <i class="fas fa-bars"></i>
                        </button>
                        
                        <!-- Greeting - Responsive -->
                        <div class="d-flex align-items-center flex-grow-1">
                            <div class="me-3">
                                <h5 class="mb-0 text-gray-800 d-flex align-items-center">
                                    <i class="fas fa-sun text-warning me-2" id="greetingIcon"></i>
                                    <span class="d-none d-sm-inline" id="greetingText">Good Morning,</span>
                                 </h5>
                                <small class="text-muted d-none d-md-inline">Welcome back to your business dashboard</small>
                            </div>
                        </div>
                        
                        <!-- Right side of navbar -->
                        <ul class="navbar-nav ms-auto">
                            <!-- Calendar - Responsive -->
                            <li class="nav-item">
                                <div class="d-flex align-items-center px-3 py-2 bg-light rounded-pill" id="dateContainer">
                                    <i class="fas fa-calendar-day text-primary me-2"></i>
                                    <span class="me-1 fw-semibold d-none d-sm-inline">Today:</span>
                                    <span class="d-none d-md-inline" id="fullDate">Thursday, July 10, 2025</span>
                                    <span class="d-inline d-md-none" id="shortDate">Jul 10</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>        
                 <!--**********************************************************************************************************************************************************************************************************************************************************************************-->
                                
<!--small card -->
                                <!--starting point ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>
                                        <!-- Sales Overview Cards Section -->
                <div class="container my-4">
                    <h4 class="mb-3">Sales Overview</h4>
                    <div class="row g-4">
                        <!-- Total Profit Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-success shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-success"><i class="fas fa-chart-line"></i> Total Profit</h5>
                                    <% 
                                        let displayTotalProfit = '0';
                                        if (typeof totalProfit !== 'undefined' && totalProfit !== null) {
                                            displayTotalProfit = totalProfit.toLocaleString('en-IN');
                                        }
                                    %>
                                    <div class="display-6 fw-bold text-success">₹ <%= displayTotalProfit %></div>
                                    <p class="mb-0 text-muted small">This month</p>
                                </div>
                            </div>
                        </div>
                        <!-- Total Sales Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-primary shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-primary"><i class="fas fa-shopping-cart"></i> Total Sales</h5>
                                    <% 
                                        let displayTotalSales = '0';
                                        if (typeof totalSales !== 'undefined' && totalSales !== null) {
                                            displayTotalSales = totalSales.toLocaleString('en-IN');
                                        }
                                    %>
                                    <div class="display-6 fw-bold text-primary">₹ <%= displayTotalSales %></div>
                                    <p class="mb-0 text-muted small">This month</p>
                                </div>
                            </div>
                        </div>
                        <!-- Number of Bills Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-warning shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-warning"><i class="fas fa-file-invoice"></i> Number of Bills</h5>
                                    <div class="display-6 fw-bold text-warning"><%= numberOfBills %></div>
                                    <p class="mb-0 text-muted small">This month</p>
                                </div>
                            </div>
                        </div>
                        <!-- Cash in Hand Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-info shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-info"><i class="fas fa-money-bill-wave"></i> Cash in Hand</h5>
                                    <% 
                                        let displayCashInHand = '0';
                                        if (typeof cashInHand !== 'undefined' && cashInHand !== null) {
                                            displayCashInHand = cashInHand.toLocaleString('en-IN');
                                        }
                                    %>
                                    <div class="display-6 fw-bold text-info">₹ <%= displayCashInHand %></div>
                                    <p class="mb-0 text-muted small">As of today</p>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
               
                              <!-- Customer Behavior Analysis Section -->
                <div class="container my-4">
                    <h4 class="mb-3">Customer Behavior Analysis</h4>
                    <div class="row g-4">
                        <!-- Age Group Trends Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-purple shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-primary"><i class="fas fa-users"></i> Age Group Trends</h5>
                                    <ul class="list-group list-group-flush small">
                                        <% if (ageGroupTrends && ageGroupTrends.length > 0) { 
                                            ageGroupTrends.forEach(function(age) { %>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    <%= age.age_group %> <span class="badge bg-primary rounded-pill"><%= age.percentage %>%</span>
                                                </li>
                                        <% }); } else { %>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                18-24 <span class="badge bg-primary rounded-pill">20%</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                25-34 <span class="badge bg-primary rounded-pill">35%</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                35-44 <span class="badge bg-primary rounded-pill">25%</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                45+ <span class="badge bg-primary rounded-pill">20%</span>
                                            </li>
                                        <% } %>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Repeat vs New Customers Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-success shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-success"><i class="fas fa-redo"></i> Repeat vs New Customers</h5>
                                    <div class="mt-3 mb-2">
                                        <% 
                                            let repeatWidth = '65%';
                                            let repeatValue = '65';
                                            if (customerLoyaltyData && customerLoyaltyData.repeatCustomers) {
                                                repeatWidth = customerLoyaltyData.repeatCustomers + '%';
                                                repeatValue = customerLoyaltyData.repeatCustomers;
                                            }
                                        %>
                                        <div class="progress">
                                            <div class="progress-bar bg-success" role="progressbar" 
                                                <% if (typeof repeatWidth !== 'undefined') { %>
                                                style="width: <%= repeatWidth %>"
                                                <% } else { %>
                                                style="width: 65%"
                                                <% } %>
                                                aria-valuenow="<%= repeatValue %>" aria-valuemin="0" aria-valuemax="100"><%= repeatValue %>%</div>
                                        </div>
                                        <small class="text-muted">Repeat Customers</small>
                                    </div>
                                    <div class="mb-2">
                                        <% 
                                            let newWidth = '35%';
                                            let newValue = '35';
                                            if (customerLoyaltyData && customerLoyaltyData.newCustomers) {
                                                newWidth = customerLoyaltyData.newCustomers + '%';
                                                newValue = customerLoyaltyData.newCustomers;
                                            }
                                        %>
                                        <div class="progress">
                                            <div class="progress-bar bg-info" role="progressbar" 
                                                <% if (typeof newWidth !== 'undefined') { %>
                                                style="width: <%= newWidth %>"
                                                <% } else { %>
                                                style="width: 35%"
                                                <% } %>
                                                aria-valuenow="<%= newValue %>" aria-valuemin="0" aria-valuemax="100"><%= newValue %>%</div>
                                        </div>
                                        <small class="text-muted">New Customers</small>
                                    </div>
                                    <p class="mb-0 small text-muted">
                                        <% 
                                            let loyaltyRatio = 1.86;
                                            if (customerLoyaltyData && customerLoyaltyData.loyaltyRatio) {
                                                loyaltyRatio = customerLoyaltyData.loyaltyRatio;
                                            }
                                        %>
                                        Customer loyalty ratio: <%= loyaltyRatio %>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <!-- Average Basket Size Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-warning shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-warning"><i class="fas fa-shopping-basket"></i> Average Basket Size</h5>
                                    <div class="text-center mt-3">
                                        <% 
                                            let avgItemCount = '4.3';
                                            if (averageBasketSize && averageBasketSize.avgItemCount) {
                                                avgItemCount = averageBasketSize.avgItemCount;
                                            }
                                        %>
                                        <div class="display-6 fw-bold text-warning"><%= avgItemCount %></div>
                                        <p class="mb-0 text-muted small">Items per bill</p>
                                    </div>
                                    <div class="text-center mt-2">
                                        <% 
                                            let avgBillValue = '850';
                                            if (averageBasketSize && averageBasketSize.avgBillValue) {
                                                avgBillValue = averageBasketSize.avgBillValue.toLocaleString('en-IN');
                                            }
                                        %>
                                        <div class="display-6 fw-bold text-warning">₹ <%= avgBillValue %></div>
                                        <p class="mb-0 text-muted small">Value per bill</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Payment Preferences Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card border-danger shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-danger"><i class="fas fa-credit-card"></i> Payment Preferences</h5>
                                    <ul class="list-group list-group-flush small">
                                        <% if (paymentPreferences && paymentPreferences.length > 0) { 
                                            paymentPreferences.forEach(function(pref) { %>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    <%= pref.payment_method %> <span class="badge bg-danger rounded-pill"><%= pref.percentage %>%</span>
                                                </li>
                                        <% }); } else { %>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                UPI <span class="badge bg-danger rounded-pill">45%</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                Credit Card <span class="badge bg-danger rounded-pill">25%</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                Cash <span class="badge bg-danger rounded-pill">20%</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                Debit Card <span class="badge bg-danger rounded-pill">10%</span>
                                            </li>
                                        <% } %>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                      
                <!--small card -->
                <div class="container my-4">
                    <h4 class="mb-3">Sales insights</h4>
                    <div class="row g-4">
                        <!-- Top 5 Products Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-star text-primary"></i> Top 5 Products</h5>
                                    <ul class="list-group list-group-flush small">
                                        <% if (top5Products && top5Products.length > 0) { top5Products.forEach(function(prod) { %>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <%= prod.item_name %>
                                                <span class="badge bg-primary rounded-pill"><%= prod.total_quantity_sold %></span>
                                            </li>
                                        <% }); } else { %>
                                            <li class="list-group-item">No data</li>
                                        <% } %>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Low Performing Products Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-arrow-down text-danger"></i> Low Performing Products</h5>
                                    <ul class="list-group list-group-flush small">
                                        <% if (bottom5Products && bottom5Products.length > 0) { bottom5Products.forEach(function(prod) { %>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <%= prod.item_name %>
                                                <span class="badge bg-danger rounded-pill"><%= prod.total_quantity_sold %></span>
                                            </li>
                                        <% }); } else { %>
                                            <li class="list-group-item">No data</li>
                                        <% } %>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Category-wise Sales Card -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card shadow h-100">
                                <div class="card-body">
                                    <h5 class="card-title"><i class="fas fa-tags text-warning"></i> Category-wise Sales</h5>
                                    <ul class="list-group list-group-flush small">
                                        <% if (categorySales && categorySales.length > 0) { categorySales.forEach(function(category) { %>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                <%= category.category || 'Uncategorized' %>
                                                <% 
                                                let formattedSales = category.total_sales;
                                                if (typeof category.total_sales !== 'undefined' && category.total_sales !== null) {
                                                    formattedSales = category.total_sales.toLocaleString('en-IN');
                                                }
                                                %>
                                                <span class="badge bg-warning rounded-pill">₹ <%= formattedSales %></span>
                                            </li>
                                        <% }); } else { %>
                                            <li class="list-group-item">No data</li>
                                        <% } %>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>



                <!--****************************************************************************************************************************************************************************************************************************************************************************************************-->
            <footer class="bg-white sticky-footer">
                <div class="container my-auto">
                    <div class="text-center my-auto copyright"><span>Copyright © business 360° 2025</span></div>
                </div>
            </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/chart.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/Billing-Table-with-Add-Row--Fixed-Header-Feature-Billing-Table-with-Add-Row--Fixed-Header.js"></script>
    <script src="assets/js/Profile-Edit-Form-profile.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="assets/js/topnav.js"></script>
</body>

</html>